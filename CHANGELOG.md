# 更新日志

## [1.6.0] - 2025-12-26

### 新增功能

#### 右键菜单显示配置
- 新增5个配置项用于控制AI助手右键菜单的显示时机
  - `yunxiao.menuVisibility.tongyi` - 控制"发送到通义灵码"菜单显示
  - `yunxiao.menuVisibility.copilot` - 控制"发送到 GitHub Copilot"菜单显示
  - `yunxiao.menuVisibility.trae` - 控制"发送到 TRAE AI"菜单显示
  - `yunxiao.menuVisibility.qoder` - 控制"发送到 Qoder"菜单显示
  - `yunxiao.menuVisibility.traeide` - 控制"发送到 Trae IDE"菜单显示
- 支持三种显示模式:
  - `always` - 总是显示
  - `never` - 总是不显示
  - `auto` - 自动检测(检测到相关扩展或IDE环境时才显示)
- 默认配置:
  - 通义灵码、GitHub Copilot、TRAE AI 默认为 `always`(总是显示)
  - Qoder、Trae IDE 默认为 `auto`(自动检测)
- 配置变更实时生效，支持自定义菜单显示策略

#### 智能AI选择功能增强
- "发送到 AI 助手"菜单新增智能选择逻辑,当用户未配置默认AI时:
  - **优先级1**: 优先使用支持的IDE环境(Qoder或Trae IDE)
  - **优先级2**: 自动检测已安装的AI扩展,按优先级选择:
    - GitHub Copilot
    - TRAE AI
    - 通义灵码
  - **优先级3**: 未检测到任何可用AI时,显示配置引导界面
- **智能选择不持久化**: 每次都动态检测可用AI,不自动保存配置
  - 用户安装/卸载AI扩展后自动适应
  - 保持灵活性,只有用户手动选择时才保存配置

### 功能改进

- 扩展IDE环境检测功能,新增AI扩展安装状态检测
- 新增上下文变量机制,用于动态控制菜单显示
- 配置变更监听器,配置修改后菜单显示状态实时更新
- 完善多语言支持,新增配置项的中英文描述

### 文档更新

- README新增"右键菜单显示配置"章节,包含详细的配置说明和使用示例
- 更新AI助手集成相关说明

### 技术优化

- 重构IDE环境检测函数`detectIDEEnvironment()`,返回更完整的检测结果
- 新增`updateMenuVisibility()`函数,统一管理菜单显示状态
- 优化AI配置对象`AI_CONFIGS`,补充扩展ID信息

---

## [1.5.0] - 2025-12-24

### 新增功能

- 📦 **代码仓库管理**
  - 📁 浏览组织下的所有代码仓库
  - 🌳 查看仓库的所有分支
  - ⬇️ **一键签出**：通过 SSH 协议克隆仓库或指定分支
  - 🔀 从分支直接创建合并请求
  - ⭐ 收藏常用仓库和分支
  - 🕒 记录最近访问的仓库和分支
- 🔧 **签出功能优化**
  - 智能判断签出位置（工作区内/外）
  - 签出到工作区内时不弹出提示
  - 支持直接克隆指定分支

---

## [1.4.7] - 2025-12-24

### 新增功能

- ✨ 工作项详情增强
  - 📝 **评论显示**：在工作项属性面板中查看所有评论
  - 📋 **详细信息(JSON)**：一键查看完整的工作项原始数据
  - 🎨 **评论样式优化**：置顶评论高亮显示，支持富文本内容
  - 📄 **右侧操作面板**：操作按钮移至右侧竖向显示，布局更清晰

---

## [1.4.0] - 2025-12-24

### 新增功能

- ✨ 工作项状态可视化
  - 🟢 绿色图标：已发AI，工作中
  - ⬛ 蓝色图标：已提交，已完成
  - 👁️ 鼠标悬停显示完整状态信息
- 🌿 Git分支集成
  - 🆕 一键创建并切换分支
  - 🏷️ 灵活的分支命名模板
  - 🔒 安全的分支切换机制
- 📊 状态持久化存储
- 📄 工作项属性查看

---

## [1.2.0] - 2025-12-23

### 新增功能

- ✨ 新增 AI 助手集成功能
- 🤖 支持 GitHub Copilot、通义灵码、TRAE AI、自定义 AI
- 🎉 首次使用智能引导
- 📁 自动文件管理(支持附加的 AI)
- ⚙️ 自定义消息模板
- 🌟 Qoder 特别支持：自动识别环境，默认使用 Qoder AI

---

## [1.0.0] - 2025-12-19

### 新增功能

- ✨ 初始版本发布
- 🔐 支持 PAT 认证
- 📋 项目和工作项浏览
- 📝 快速粘贴提交消息
- ⚙️ 灵活的配置选项
- 🌐 浏览器集成
